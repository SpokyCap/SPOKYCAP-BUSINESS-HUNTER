import base64; exec(base64.b64decode("aW1wb3J0IHRpbWUKaW1wb3J0IHJlcXVlc3RzCmZyb20gY29sb3JhbWEgaW1wb3J0IFN0eWxlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCgpCT0xEPVN0eWxlLkJSSUdIVApSRVNFVD1TdHlsZS5SRVNFVF9BTEwKUkVTRVQ9IlwwMzNbMG0iCllFTExPVz0iXDAzM1sxbVwwMzNbMzNtIgpHUkVFTj0iXDAzM1sxbVwwMzNbMzJtIgpSRUQ9IlwwMzNbMW1cMDMzWzMxbSIKQ1lBTj0iXDAzM1sxbVwwMzNbMzZtIgpXSElURT0iXDAzM1sxbVwwMzNbMzdtIgppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IHJhbmRvbQppbXBvcnQganNvbiwgc3RyaW5nCmZyb20gdGhyZWFkaW5nIGltcG9ydCBUaHJlYWQKaW1wb3J0IG9zCmZyb20gdXNlcl9hZ2VudCBpbXBvcnQgKgpmcm9tIHJlcXVlc3RzIGltcG9ydCBwb3N0IGFzIHBwCmZyb20gdXNlcl9hZ2VudCBpbXBvcnQgZ2VuZXJhdGVfdXNlcl9hZ2VudCBhcyBnZ2IKZnJvbSByYW5kb20gaW1wb3J0IGNob2ljZSBhcyBjYwpmcm9tIHJhbmRvbSBpbXBvcnQgcmFuZHJhbmdlIGFzIHJyCmltcG9ydCByZQppbXBvcnQgaGFzaGxpYgppbXBvcnQgdXVpZApmcm9tIHJlcXVlc3RzIGltcG9ydCBnZXQKaW1wb3J0IHN5cwpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQp0cnk6Cglmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBTdHlsZSwgaW5pdApleGNlcHQ6Cglvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGNvbG9yYW1hJykKCWZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUsIFN0eWxlLCBpbml0CnRyeToKICAgIGZyb20gY2ZvbnRzIGltcG9ydCByZW5kZXIsIHNheQpleGNlcHQ6CiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHB5dGhvbi1jZm9udHMnKQogICAgZnJvbSBjZm9udHMgaW1wb3J0IHJlbmRlciwgc2F5CmltcG9ydCB0aW1lCmluaXQoYXV0b3Jlc2V0PVRydWUpCnJlZCA9ICJcMDMzWzFtXDAzM1szMW0iCmdyZWVuID0gIlwwMzNbMW1cMDMzWzMybSIKeWVsbG93ID0gIlwwMzNbMW1cMDMzWzMzbSIKYmx1ZSA9ICJcMDMzWzFtXDAzM1szNG0iCmN5YW4gPSAiXDAzM1sxbVwwMzNbMzZtIgptYWdlbnRhID0gIlwwMzNbMW1cMDMzWzM1bSIKTSA9ICJcMDMzWzFtXDAzM1szNm0iCndoaXRlID0gIlwwMzNbMW1cMDMzWzM3bSIKb3JhbmdlID0gIlwwMzNbMW1cMDMzWzM4OzU7MjA4bSIKcmVzZXQgPSAiXDAzM1swbSIKU1BPS1lDQVAgPSByZW5kZXIoJ3tTUE9LWUNBUH0nLCBjb2xvcnM9Wyd3aGl0ZScsICdibHVlJ10sIGFsaWduPSdjZW50ZXInKQpwcmludChmJycnXG4KICDilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMgICAKICAgICAKICAgICAgICAgICAgICAgICAgICAgIHtTUE9LWUNBUH0KIAogICDilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJsgICAgCiAgICAgICAgJycnKQpwcmludChmJ1x4MWJbMTszOW3ilIEnKjYwKQpJRCA9IGlucHV0KCdFbnRlciBZb3VyIENoYXQgSWQgLT4gICcpCkZJTEVOQU1FID0gJ01FVEEnCnRva2VuID0gaW5wdXQoJ0VudGVyIFlvdXIgVGVsZWdyYW0gQm90IFRva2VuIC0+ICAnKQphY2EgPSAwCnRvdGFsID0gMApoaXRzID0gMApiYWRpbnN0YSA9IDAKYmFkZW1haWwgPSAwCmdvb2RpZyA9IDAKaW5mb2luc3RhID0ge30KCmltcG9ydCBvcwppbXBvcnQgc3lzCmltcG9ydCB0aW1lCmZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUsIFN0eWxlLCBpbml0Cgppbml0KGF1dG9yZXNldD1UcnVlKSAgIyBJbml0aWFsaXplIGNvbG9yYW1hIGZvciBjcm9zcy1wbGF0Zm9ybSBjb21wYXRpYmlsaXR5CgpkZWYgcHBwcCgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCgogICAgYXNjaWlfYXJ0ID0gIiIiCiAgICAgICAgICAgICAgICAgICAgICDioJjio7fio7bio6Tio4TioYAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICDioLjio7/io7/io7/io7/io7fioZLiooTioYAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICDiornio7/io7/io7/io7/io7/io4bioJnioYQg4qCQICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICDio6Tio6Tio6Tio6Tio6Tio6Tio6Tio6Tio6TioKTiooTioYAgIOKjv+Kjv+Kjv+Kjv+Kjv+Kjv+KhhuKgmOKhhCDioYYgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAg4qCI4qCZ4qK/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qOm4qGI4qCS4qKE4qK44qO/4qO/4qO/4qO/4qO/4qO/4qGA4qCxIOKhhyAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICDioIjioLvio7/io7/io7/io7/io7/io7/io7/io6Yg4qCx4qO/4qO/4qO/4qO/4qO/4qO/4qOHIOKig+KhhyAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIOKgmOKiv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjt+KhhOKjueKjv+Kjv+Kjv+Kjv+Kjv+Kjv+KjtuKjvuKjv+KjtuKjpOKjgCAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIOKjgOKjgOKiu+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjt+KhgCAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICDiooDio6Dio7Tio7bio7/io63io43ioYnioJniorvio7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7cgICAgICAgICAgICAgICAgICAgIAogICAgICAg4qKA4qOg4qO24qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO34qOm4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qGHICAg4qOAICAgICAgICAgICAgICAgCiAgICAgICDioInioInioJvioLvior/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/io7/iob/ioLvio7/io7/io7/io7/io7/io7/io7/io7/io7/io7/iobfiooLio5Pio7bio7bio7bio7bio6Tio6Tio4Tio4AgICAgICAgICAKICAgICAgICAgICAg4qCI4qCZ4qC74qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qK/4qO/4qO/4qO/4qCf4qKA4qO04qK/4qO/4qO/4qO/4qCf4qC74qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qC/4qCb4qCL4qCJICAgICAgICAKICAgICAgICAgICAg4qCk4qCk4qCk4qCk4qCZ4qO74qO/4qO/4qO/4qO/4qO/4qO/4qO+4qO/4qO/4qGP4qOg4qCf4qGJ4qO+4qO/4qO/4qCL4qGg4qCK4qO/4qGf4qO54qO/4qK/4qO/4qO/4qO/4qC/4qCb4qCJICAgICAgICAgICAgIAogICAgICAgICAgIOKigOKjoOKjpOKjtuKjpOKjreKjpOKjvOKjv+Kim+Kjv+Kjv+Kjv+Kjv+Kju+Kjv+Kjv+Kgh+KgkOKigOKjv+Kjv+Kht+KgiyDioqDio7/io7rio7/io7/iorrio7/io4vio4nio4nio6nio7Tio7bio6Tio6Tio4QgICAgICAgICAKICAgICAgICAgICAg4qCJ4qCJ4qCb4qC74qC/4qO/4qO/4qO/4qOH4qK74qO/4qO/4qG/4qC/4qO/4qOv4qGAIOKiuOKjv+Kgi+KigOKjoOKjtuKgv+Kgv+Kiv+Khv+KgiOKjvuKjv+Kjv+Kjv+Kjv+Khv+Kgv+Kgm+Kgi+KggSAgICAgICAgICAKICAgICAgICAgICAgICAgICAg4qCZ4qC74qKn4qG44qO/4qO/4qO/IOKgg+Kgu+Kgn+KipuKivuKio+KgtuKgv+KgjyDioLAg4qO84qGH4qO44qO/4qO/4qCf4qCJICDiooAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIOKigOKjoOKjtOKjvuKjtuKjveKjv+Khn+Kgk+KgkiAg4qGAIOKgoOKgpOKgrOKgieKggeKjsOKjpeKjvuKjv+Kjv+KjtuKjtuKjt+KhtuKghCAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIOKgieKgieKgieKgieKgueKgn+Kjv+Kjv+KhhCAg4qCg4qGHICAgICDioqDioZ/ioJvioJvioIvioIkgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICDiooDio6DioIvioLnio7fio4Qg4qCQ4qOK4qOAICDiooDiobTioIHioKPio4AgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICDiooDio4Dio6Tio4DioKTioIriooHiobgg4qOG4qC54qO/4qOn4qOAICDioaDioJbioZHioIEgICDioJHiooTio4Dio4AgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgIOKjsOKjpuKjtuKjv+Kjv+Kjn+KjgeKjpOKjvuKgn+KggeKigOKjv+KjhuKgueKhhuKgu+Kjv+KgieKigOKgnOKhsCAg4qCI4qCR4qKm4qGA4qCI4qK+4qCR4qG+4qCy4qOEIOKjgCAgICAgICAgICAgIAogICAgICAgIOKjgOKjpOKjtuKjvuKjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Khv+KgluKgkuKgmuKgm+Kgm+KgouKgveKihOKjmOKjpOKhjuKgoOKgv+KggiDioKDioLTioLbioonioa3ioIPiorjioIMg4qO/4qO/4qO/4qCh4qOAICAgICAgICAgIAogICAgIOKhpOKgtuKgv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kji+KggSAgICAg4qK54qGHICAgIOKgkuKgouKjpOKglOKggSDiooDioY8gIOKiuOKjv+KjvyDiorvioZ/ioJHioKLiooTioYAgICAgIAogICAg4qK4ICAg4qGA4qCJ4qCb4qK/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO34qOE4qOA4qOA4qGAIOKiuOKjt+KhgOKjgOKjgOKhoOKglOKgiiAg4qKA4qOg4qGeICAg4qK44qO/4qG/IOKgmCAgICDioIjioJHioqQgICAKICDiooDio7Tio7/ioYAgIOKhhyAgIOKgiOKjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+KjneKhm+Kgv+Kiv+Kjt+KjpuKjhOKhgOKgiOKgieKgieKggSAgIOKigOKjoOKjtOKjvuKjv+Khv+KggSAgIOKiuOKhv+KggSAgICAgICAg4qGcICAgCiDiooDio77io7/io7/ioYcg4qKw4qO3IOKigCAg4qK54qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO/4qO24qOm4qOt4qON4qOJ4qOJIOKigOKjgOKjpOKjtuKjvuKjv+Kjv+Kjv+Kiv+Kgv+KggSAgICDioJggICAgICAgICDiobDioInioqYgIAriooDio7zio7/io7/iob/iorEg4qK44qO/4qGA4qK44qOn4qGAIOKiv+Kjv+Kjv+Kgv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+Kjv+KhreKgluKggSDioaDioIIgICAgICAgIOKioCAgIOKioOKggyDioIjio4AgCuKiuOKjv+Kjv+Kjv+KhhyDioqfiorjio7/io4fiorjio7/io7fioYDioIjio7/io7/io4fioIjioJvior/io7/io7/io7/io7/io7/io7/ioL/ioL/ioL/ioL/ioL/ioL/ioJ/iobvioJ/ioIkgIOKhoOKgiiDioqAgICAgICAgIOKjvuKhhCDioqDio7/ioJTioIEg4qK4IArioIjio7/io7/io7/io7fioYAg4qK74qO/4qO/4qGc4qO/4qO/4qO34qGA4qCI4qK/4qO/4qGEICDioIjioJvioL/io7/io7/io7/io7fio7bio7bio7biobbioJbioIkg4qOA4qOk4qG24qCLIOKjoOKjtuKhjyAgICAgICDiorDio7/io6fio7bio7/io7/ioJbioaDioJbioIEgCiDio7/io7/io7fio4zioZvioLbio7zio7/io7/io7fio7/io7/io7/io7/ioYTioIjiorvio7cg4qOE4qGAICAg4qCI4qCJ4qCb4qCb4qCb4qCB4qOA4qOk4qO24qO+4qCf4qCLIOKjoOKjvuKjv+KhnyAgICAgICAg4qO/4qO/4qO/4qO/4qO/4qC34qCKIOKisCAgCuKisOKjv+KjvyDioIjiooniobbior/io7/io7/io7/io7/io7/io7/io7/io7/io4Yg4qCZ4qKH4qCI4qK/4qO24qOm4qOk4qOA4qOA4qOg4qOk4qO24qO/4qO/4qG/4qCb4qCB4qKA4qOk4qO+4qO/4qO/4qG/4qCBICAgICAgIOKjuOKjv+Khv+Kgv+Kgi+KgmeKgkuKghCDioInioYQgCuKjv+Kjv+KhjyAg4qCBICAg4qCJ4qCJ4qCZ4qK74qO/4qO/4qO/4qO/4qO34qGAICAg4qC74qO/4qO/4qO/4qO/4qO/4qC/4qC/4qCb4qCBIOKjgOKjtOKjv+Kjv+Kjv+Kjv+KgnyAgICAgICAg4qKg4qCPICAgICAgICAg4qCwICAKIiIiCiAgICAKICAgIG91dHB1dCA9IChmIntGb3JlLkJMVUV9e2FzY2lpX2FydH1cbiIKICAgICAgICAgICAgICBmIiBbVHJ1ZV0gOiB7Rm9yZS5HUkVFTn17aGl0c317U3R5bGUuUkVTRVRfQUxMfVxuIgogICAgICAgICAgICAgIGYiIFtHZW5dIDoge0ZvcmUuWUVMTE9XfXtiYWRpbnN0YX17U3R5bGUuUkVTRVRfQUxMfVxuIgogICAgICAgICAgICAgIGYiIFtGYWxzZV0gOiB7Rm9yZS5SRUR9e2JhZGVtYWlsfXtTdHlsZS5SRVNFVF9BTEx9XG4iCiAgICAgICAgICAgICAgZiIgW0JhZF0gOiB7Rm9yZS5CTFVFfXtnb29kaWd9e1N0eWxlLlJFU0VUX0FMTH1cbiIpCgogICAgc3lzLnN0ZG91dC53cml0ZShvdXRwdXQpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKCgphID0gcHJpbnQoZiIiIgp7Y3lhbn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKe2N5YW594pSDIHtibHVlfS0+IHt3aGl0ZX1TZWxlY3QgVGhlIFllYXIgWW91IFdhbnQgVG8gSHVudCBGb3Ige2JsdWV9LT4ge2N5YW59IOKUgwp7Y3lhbn3ilIPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9MXt3aGl0ZX0gLSB7eWVsbG93fTIwMTEgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9Mnt3aGl0ZX0gLSB7eWVsbG93fTIwMTIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9M3t3aGl0ZX0gLSB7eWVsbG93fTIwMTMgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9NHt3aGl0ZX0gLSB7eWVsbG93fTIwMTQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9NXt3aGl0ZX0gLSB7eWVsbG93fTIwMTUgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9Nnt3aGl0ZX0gLSB7eWVsbG93fTIwMTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9N3t3aGl0ZX0gLSB7eWVsbG93fTIwMTcgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9OHt3aGl0ZX0gLSB7eWVsbG93fTIwMTggICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9OXt3aGl0ZX0gLSB7eWVsbG93fTIwMTkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjeWFufSAgICDilIMKe2N5YW594pSDIHtvcmFuZ2V9LT4ge2JsdWV9MHt3aGl0ZX0gLSB7eWVsbG93fTIwMTEge3doaXRlfX4ge3llbGxvd30yMDIzICAgICAgICAgICAgICAgICAge2N5YW59ICAgICAgICDilIMKe2N5YW594pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbCiIiIikKU1BPS1lDQVBYID0gaW5wdXQoZiJ7Z3JlZW59LT4ge3doaXRlfVBsZWFzZSB0eXBlIHRoZSBudW1iZXIgb2YgeW91ciBjaG9pY2U6IHtyZXNldH0iKQoKaWYgU1BPS1lDQVBYID09ICcxJzoKICAgIGJiayA9IDEwMDAwCiAgICBpZCA9IDE3Njk5OTk5CmVsaWYgU1BPS1lDQVBYID09ICcyJzoKICAgIGJiayA9IDE3Njk5OTk5CiAgICBpZCA9IDI2MzAxNDQwNwplbGlmIFNQT0tZQ0FQWCA9PSAnMyc6CiAgICBiYmsgPSAyNjMwMTQ0MDcKICAgIGlkID0gMzYxMzY1MTMzCmVsaWYgU1BPS1lDQVBYPT0gJzQnOgogICAgYmJrID0gMzYxMzY1MTMzCiAgICBpZCA9IDE2MjkwMTAwMDAKZWxpZiBTUE9LWUNBUFggPT0gJzUnOgogICAgYmJrID0gMTYyOTAxMDAwMAogICAgaWQgPSAyNTAwMDAwMDAwCmVsaWYgU1BPS1lDQVBYID09ICc2JzoKICAgIGJiayA9IDI1MDAwMDAwMDAKICAgIGlkID0gMzcxMzY2ODc4NgplbGlmIFNQT0tZQ0FQWCA9PSAnNyc6CiAgICBiYmsgPSAzNzEzNjY4Nzg2CiAgICBpZCA9IDU2OTk3ODUyMTcKZWxpZiBTUE9LWUNBUFggPT0gJzgnOgogICAgYmJrID0gNTY5OTc4NTIxNwogICAgaWQgPSA4NTk3OTM5MjQ1CmVsaWYgU1BPS1lDQVBYID09ICc5JzoKICAgIGJiayA9IDg1OTc5MzkyNDUKICAgIGlkID0gMjEyNTQwMjk4MzQKZWxpZiBTUE9LWUNBUFggPT0gJzAnOgogICAgYmJrID0gMTAwMDAKICAgIGlkID0gMjEyNTQwMjk4MzQKZWxzZToKICAgIGV4aXQoKQoKCndoaWxlIFRydWU6CiAgICB0cnk6CiAgICAgICAgYSA9ICJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FjY291bnRzL2xvZ2luIgogICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICBhYSA9IHNlc3Npb24uZ2V0KGEpCiAgICAgICAgY3NyZiA9IGFhLmNvb2tpZXMuZ2V0KCdjc3JmdG9rZW4nKQogICAgICAgIGJyZWFrCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKeXkgPSAnYXplcnR5dWlvcG1sa2poZ2Zkc3F3eGN2Ym4nCmRlZiB0bGwoKToKICAgIHRyeToKICAgICAgICBuMSA9ICcnLmpvaW4oY2MoeXkpIGZvciBpIGluIHJhbmdlKHJyKDYsIDkpKSkKICAgICAgICBuMiA9ICcnLmpvaW4oY2MoeXkpIGZvciBpIGluIHJhbmdlKHJyKDMsIDkpKSkKICAgICAgICBob3N0ID0gJycuam9pbihjYyh5eSkgZm9yIGkgaW4gcmFuZ2UocnIoMTUsIDMwKSkpCiAgICAgICAgaGUzID0gewogICAgICAgICAgICAiYWNjZXB0IjogIi8iLAogICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogImFyLUlRLGFyO3E9MC45LGVuLUlRO3E9MC44LGVuO3E9MC43LGVuLVVTO3E9MC42IiwKICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIsCiAgICAgICAgICAgICJnb29nbGUtYWNjb3VudHMteHNyZiI6ICIxIiwKICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBzdHIoZ2diKCkpLAogICAgICAgIH0KICAgICAgICByZXMxID0gcmVxdWVzdHMuZ2V0KAogICAgICAgICAgICAnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL3NpZ25pbi92Mi91c2VybmFtZXJlY292ZXJ5P2Zsb3dOYW1lPUdsaWZXZWJTaWduSW4mZmxvd0VudHJ5PVNlcnZpY2VMb2dpbiZobD1lbi1HQicsIAogICAgICAgICAgICBoZWFkZXJzPWhlMwogICAgICAgICkKICAgICAgICB0b2sgPSByZS5zZWFyY2gocidkYXRhLWluaXRpYWwtc2V0dXAtZGF0YT0iJS5ALm51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCZxdW90OyguPykmcXVvdDssbnVsbCxudWxsLG51bGwsJnF1b3Q7KC4/KSYnLCByZXMxLnRleHQpLmdyb3VwKDIpCiAgICAgICAgY29va2llcyA9IHsKICAgICAgICAgICAgJ19fSG9zdC1HQVBTJzogaG9zdAogICAgICAgIH0KICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2FjY291bnRzLmdvb2dsZS5jb20nLAogICAgICAgICAgICAnYWNjZXB0JzogJy8nLAogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywKICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICdnb29nbGUtYWNjb3VudHMteHNyZic6ICcxJywKICAgICAgICAgICAgJ29yaWdpbic6ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20nLAogICAgICAgICAgICAncmVmZXJlcic6ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vc2lnbnVwL3YyL2NyZWF0ZWFjY291bnQ/c2VydmljZT1tYWlsJmNvbnRpbnVlPWh0dHBzJTNBJTJGJTJGbWFpbC5nb29nbGUuY29tJTJGbWFpbCUyRnUlMkYwJTJGJnRoZW1lPW1uJywKICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiBnZ2IoKSwKICAgICAgICB9CiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgJ2YucmVxJzogZidbInt0b2t9Iiwie24xfSIsIntuMn0iLCJ7bjF9Iiwie24yfSIsMCwwLG51bGwsbnVsbCwid2ViLWdsaWYtc2lnbnVwIiwwLG51bGwsMSxbXSwxXScsCiAgICAgICAgICAgICdkZXZpY2VpbmZvJzogJ1tudWxsLG51bGwsbnVsbCxudWxsLG51bGwsIk5MIixudWxsLG51bGwsbnVsbCwiR2xpZldlYlNpZ25JbiIsbnVsbCxbXSxudWxsLG51bGwsbnVsbCxudWxsLDIsbnVsbCwwLDEsIiIsbnVsbCxudWxsLDIsMl0nLAogICAgICAgIH0KICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoCiAgICAgICAgICAgICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vXy9zaWdudXAvdmFsaWRhdGVwZXJzb25hbGRldGFpbHMnLAogICAgICAgICAgICBjb29raWVzPWNvb2tpZXMsCiAgICAgICAgICAgIGhlYWRlcnM9aGVhZGVycywKICAgICAgICAgICAgZGF0YT1kYXRhLAogICAgICAgICkKICAgICAgICB0bCA9IHN0cihyZXNwb25zZS50ZXh0KS5zcGxpdCgnIixudWxsLCInKVsxXS5zcGxpdCgnIicpWzBdCiAgICAgICAgaG9zdCA9IHJlc3BvbnNlLmNvb2tpZXMuZ2V0X2RpY3QoKVsnX19Ib3N0LUdBUFMnXQogICAgICAgIHdpdGggb3BlbigndGwudHh0JywgJ3cnKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKGYne3RsfS8ve2hvc3R9XG4nKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGUpCiAgICAgICAgdGxsKCkKdGxsKCkKCmRlZiBHZXRhb2woKToKICAgIHRyeTogICAgICAKICAgICAgICBxcSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9sb2dpbi5hb2wuY29tL2FjY291bnQvY3JlYXRlJywgaGVhZGVycz17CiAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNiBFZGcvMTIwLjAuMC4wJywKICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOScsCiAgICAgICAgfSkKICAgICAgICBjb29raWVzID0gcXEuY29va2llcy5nZXRfZGljdCgpCiAgICAgICAgdG0xID0gc3RyKHRpbWUudGltZSgpKS5zcGxpdCgnLicpWzBdCiAgICAgICAgY29va2llcy51cGRhdGUoewogICAgICAgICAgICAnZ3BwJzogJ0RCQUEnLAogICAgICAgICAgICAnZ3BwX3NpZCc6ICctMScsCiAgICAgICAgICAgICdfX2dhZHMnOiBmJ0lEPWMwTTBmZDAwNjc2ZjBlYTE6VD17dG0xfTpSVD17dG0xfTpTPUFMTklfTWFFR2FWVFNHNm5RRmtTSi1SbnhTWnJGNXE1WEEnLAogICAgICAgICAgICAnX19ncGknOiBmJ1VJRD0wMDAwMGNmMGU4OTA0ZTk0OlQ9e3RtMX06UlQ9e3RtMX06Uz1BTE5JX01ZQ3pQclluOTk2N0h0cERTSVRVZTVaNFp3R09RJywKICAgICAgICAgICAgJ2NtcCc6IGYndD17dG0xfSZqPTAmdT0xLS0tJywKICAgICAgICB9KQogICAgICAgIHNwZWNEYXRhID0gcXEudGV4dC5zcGxpdCgnbmFtZT0iYXR0clNldEluZGV4Ij5cbiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IicpWzFdLnNwbGl0KCciIG5hbWU9InNwZWNEYXRhIj4nKVswXQogICAgICAgIHNwZWNJZCA9IHFxLnRleHQuc3BsaXQoJ25hbWU9ImJyb3dzZXItZnAtZGF0YSIgaWQ9ImJyb3dzZXItZnAtZGF0YSIgdmFsdWU9IiIgLz5cbiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IicpWzFdLnNwbGl0KCciIG5hbWU9InNwZWNJZCI+JylbMF0KICAgICAgICBjcnVtYiA9IHFxLnRleHQuc3BsaXQoJ25hbWU9ImNhY2hlU3RvcmVkIj5cbiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IicpWzFdLnNwbGl0KCciIG5hbWU9ImNydW1iIj4nKVswXQogICAgICAgIHNlc3Npb25JbmRleCA9IHFxLnRleHQuc3BsaXQoJyJhY3J1bWIiPlxuICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJylbMV0uc3BsaXQoJyIgbmFtZT0ic2Vzc2lvbkluZGV4Ij4nKVswXQogICAgICAgIGFjcnVtYiA9IHFxLnRleHQuc3BsaXQoJ25hbWU9ImNydW1iIj5cbiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IicpWzFdLnNwbGl0KCciIG5hbWU9ImFjcnVtYiI+JylbMF0KICAgICAgICB0cnk6CiAgICAgICAgICAgIG9zLnJlbW92ZSgnYW9sX3JlcS50eHQnKQogICAgICAgICAgICBvcy5yZW1vdmUoJ2FvbF9jb2sudHh0JykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICB3aXRoIG9wZW4oJ2FvbF9yZXEudHh0JywgJ2EnKSBhcyB0OgogICAgICAgICAgICB0LndyaXRlKGYie3NwZWNEYXRhfc6ge3NwZWNJZH3OoHtjcnVtYn3OoHtzZXNzaW9uSW5kZXh9zqB7YWNydW1ifVxuIikKCiAgICAgICAgd2l0aCBvcGVuKCdhb2xfY29rLnR4dCcsICdhJykgYXMgZzoKICAgICAgICAgICAgZy53cml0ZShzdHIoY29va2llcykgKyAnXG4nKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGUpCiAgICAgICAgR2V0YW9sKCkKR2V0YW9sKCkKCmRlZiBjaGVja19nbWFpbChlbWFpbCk6CiAgICBnbG9iYWwgYmFkZW1haWwsIGhpdHMKICAgIHRyeToKICAgICAgICBpZiAnQCcgaW4gZW1haWw6CiAgICAgICAgICAgIGVtYWlsID0gc3RyKGVtYWlsKS5zcGxpdCgnQCcpWzBdCgogICAgICAgIHRyeToKICAgICAgICAgICAgbyA9IG9wZW4oJ3RsLnR4dCcsICdyJykucmVhZCgpLnNwbGl0bGluZXMoKVswXQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgbyA9IG9wZW4oJ3RsLnR4dCcsICdyJykucmVhZCgpLnNwbGl0bGluZXMoKVswXQoKICAgICAgICB0bCwgaG9zdCA9IG8uc3BsaXQoJy8vJykKCiAgICAgICAgY29va2llcyA9IHsKICAgICAgICAgICAgJ19fSG9zdC1HQVBTJzogaG9zdAogICAgICAgIH0KICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2FjY291bnRzLmdvb2dsZS5jb20nLAogICAgICAgICAgICAnYWNjZXB0JzogJy8nLAogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywKICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICdnb29nbGUtYWNjb3VudHMteHNyZic6ICcxJywKICAgICAgICAgICAgJ29yaWdpbic6ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20nLAogICAgICAgICAgICAncmVmZXJlcic6IGYnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL3NpZ251cC92Mi9jcmVhdGV1c2VybmFtZT9zZXJ2aWNlPW1haWwmY29udGludWU9aHR0cHMlM0ElMkYlMkZtYWlsLmdvb2dsZS5jb20lMkZtYWlsJTJGdSUyRjAlMkYmVEw9e3RsfScsCiAgICAgICAgICAgICd1c2VyLWFnZW50JzogZ2diKCksCiAgICAgICAgfQoKICAgICAgICBwYXJhbXMgPSB7J1RMJzogdGx9CiAgICAgICAgZGF0YSA9ICgKICAgICAgICAgICAgJ2NvbnRpbnVlPWh0dHBzJTNBJTJGJTJGbWFpbC5nb29nbGUuY29tJTJGbWFpbCUyRnUlMkYwJTJGJmRkbT0wJmZsb3dFbnRyeT1TaWduVXAmc2VydmljZT1tYWlsJnRoZW1lPW1uJwogICAgICAgICAgICBmJyZmLnJlcT0lNUIlMjJUTCUzQXt0bH0lMjIlMkMlMjJ7ZW1haWx9JTIyJTJDMCUyQzAlMkMxJTJDbnVsbCUyQzAlMkM1MTY3JTVEJmF6dD1BRm9hZ1VVdFJsdlY5MjhvUzlPN0Y2ZWVJNGRDTzJyMWlnJTNBMTcxMjMyMjQ2MDg4OCZjb29raWVzRGlzYWJsZWQ9ZmFsc2UmZGV2aWNlaW5mbz0lNUJudWxsJTJDbnVsbCUyQ251bGwlMkNudWxsJTJDbnVsbCUyQyUyMk5MJTIyJTJDbnVsbCUyQ251bGwlMkNudWxsJTJDJTIyR2xpZldlYlNpZ25JbiUyMiUyQ251bGwlMkMlNUIlNUQlMkNudWxsJTJDbnVsbCUyQ251bGwlMkNudWxsJTJDMiUyQ251bGwlMkMwJTJDMSUyQyUyMiUyMiUyQ251bGwlMkNudWxsJTJDMiUyQzIlNUQmZ21zY29yZXZlcnNpb249dW5kZWZpbmVkJmZsb3dOYW1lPUdsaWZXZWJTaWduSW4mJwogICAgICAgICkKICAgICAgICByZXNwb25zZSA9IHBwKAogICAgICAgICAgICAnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL18vc2lnbnVwL3VzZXJuYW1lYXZhaWxhYmlsaXR5JywKICAgICAgICAgICAgcGFyYW1zPXBhcmFtcywKICAgICAgICAgICAgY29va2llcz1jb29raWVzLAogICAgICAgICAgICBoZWFkZXJzPWhlYWRlcnMsCiAgICAgICAgICAgIGRhdGE9ZGF0YSwKICAgICAgICApCiAgICAgICAgaWYgJyJnZi51YXIiLDEnIGluIHN0cihyZXNwb25zZS50ZXh0KToKICAgICAgICAgICAgaGl0cyArPSAxCiAgICAgICAgICAgIHBwcHAoKQogICAgICAgICAgICBpZiAnQCcgbm90IGluIGVtYWlsOgogICAgICAgICAgICAgICAgb2sgPSBlbWFpbCArICdAZ21haWwuY29tJwogICAgICAgICAgICAgICAgdXNlcm5hbWUsIGdnID0gb2suc3BsaXQoJ0AnKQogICAgICAgICAgICAgICAgSW5mb0FjYyh1c2VybmFtZSwgZ2cpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB1c2VybmFtZSwgZ2cgPSBlbWFpbC5zcGxpdCgnQCcpCiAgICAgICAgICAgICAgICBJbmZvQWNjKHVzZXJuYW1lLCBnZykKICAgICAgICBlbHNlOiAKICAgICAgICAgIGJhZGVtYWlsKz0xCiAgICAgICAgICBwcHBwKCkKICAgIGV4Y2VwdDonJwoKCmRlZiBjaGVja19hb2woZW1haWwpOgogICAgZ2xvYmFsIGhpdHMsIGJhZGVtYWlsCiAgICB0cnk6CiAgICAgICAgaWYgJ0AnIGluIGVtYWlsOgogICAgICAgICAgICBuYW1lID0gZW1haWwuc3BsaXQoJ0AnKVswXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG5hbWUgPSBlbWFpbAoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggb3BlbigiYW9sX3JlcS50eHQiLCAiciIpIGFzIGY6CiAgICAgICAgICAgICAgICBmb3IgbGluZSBpbiBmOgogICAgICAgICAgICAgICAgICAgIHNwZWNEYXRhLCBzcGVjSWQsIGNydW1iLCBzZXNzaW9uSW5kZXgsIGFjcnVtYiA9IGxpbmUuc3RyaXAoKS5zcGxpdCgnzqAnKQoKICAgICAgICAgICAgd2l0aCBvcGVuKCJhb2xfY29rLnR4dCIsICJyIikgYXMgZjoKICAgICAgICAgICAgICAgIGZvciBsaW5lIGluIGY6CiAgICAgICAgICAgICAgICAgICAgY29va2llcyA9IGV2YWwobGluZS5zdHJpcCgpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgR2V0YW9sKCkKICAgICAgICAgICAgd2l0aCBvcGVuKCJhb2xfcmVxLnR4dCIsICJyIikgYXMgZjoKICAgICAgICAgICAgICAgIGZvciBsaW5lIGluIGY6CiAgICAgICAgICAgICAgICAgICAgc3BlY0RhdGEsIHNwZWNJZCwgY3J1bWIsIHNlc3Npb25JbmRleCwgYWNydW1iID0gbGluZS5zdHJpcCgpLnNwbGl0KCfOoCcpCgogICAgICAgICAgICB3aXRoIG9wZW4oImFvbF9jb2sudHh0IiwgInIiKSBhcyBmOgogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICAgICAgICAgICAgICBjb29raWVzID0gZXZhbChsaW5lLnN0cmlwKCkpCgogICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICdhdXRob3JpdHknOiAnbG9naW4uYW9sLmNvbScsCiAgICAgICAgICAgICdhY2NlcHQnOiAnLycsCiAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLAogICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICdvcmlnaW4nOiAnaHR0cHM6Ly9sb2dpbi5hb2wuY29tJywKICAgICAgICAgICAgJ3JlZmVyZXInOiBmJ2h0dHBzOi8vbG9naW4uYW9sLmNvbS9hY2NvdW50L2NyZWF0ZT9zcGVjSWQ9e3NwZWNJZH0mZG9uZT1odHRwcyUzQSUyRiUyRnd3dy5hb2wuY29tJywKICAgICAgICAgICAgJ3NlYy1jaC11YSc6ICciTm90X0EgQnJhbmQiO3Y9IjgiLCAiQ2hyb21pdW0iO3Y9IjEyMCIsICJNaWNyb3NvZnQgRWRnZSI7dj0iMTIwIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciV2luZG93cyInLAogICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLAogICAgICAgICAgICAnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNiBFZGcvMTIwLjAuMC4wJywKICAgICAgICAgICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLAogICAgICAgIH0KCiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAndmFsaWRhdGVGaWVsZCc6ICd1c2VySWQnLAogICAgICAgIH0KCiAgICAgICAgZGF0YSA9IGYnYnJvd3Nlci1mcC1kYXRhPSU3QiUyMmxhbmd1YWdlJTIyJTNBJTIyZW4tVVMlMjIlMkMlMjJjb2xvckRlcHRoJTIyJTNBMjQlMkMlMjJkZXZpY2VNZW1vcnklMjIlM0E4JTJDJTIycGl4ZWxSYXRpbyUyMiUzQTElMkMlMjJoYXJkd2FyZUNvbmN1cnJlbmN5JTIyJTNBNCUyQyUyMnRpbWV6b25lT2Zmc2V0JTIyJTNBLTYwJTJDJTIydGltZXpvbmUlMjIlM0ElMjJBZnJpY2ElMkZDYXNhYmxhbmNhJTIyJTJDJTIyc2Vzc2lvblN0b3JhZ2UlMjIlM0ExJTJDJTIybG9jYWxTdG9yYWdlJTIyJTNBMSUyQyUyMmluZGV4ZWREYiUyMiUzQTElMkMlMjJjcHVDbGFzcyUyMiUzQSUyMnVua25vd24lMjIlMkMlMjJwbGF0Zm9ybSUyMiUzQSUyMldpbjMyJTIyJTJDJTIyZG9Ob3RUcmFjayUyMiUzQSUyMnVua25vd24lMjIlMkMlMjJwbHVnaW5zJTIyJTNBJTdCJTIyY291bnQlMjIlM0E1JTJDJTIyaGFzaCUyMiUzQSUyMjJjMTQwMjRiZjg1ODRjM2Y3ZjYzZjI0ZWE0OTBlODEyJTIyJTdEJTJDJTIyY2FudmFzJTIyJTNBJTIyY2FudmFzJTIwd2luZGluZyUzQXllc35jYW52YXMlMjIlMkMlMjJ3ZWJnbCUyMiUzQTElMkMlMjJ3ZWJnbFZlbmRvckFuZFJlbmRlcmVyJTIyJTNBJTIyR29vZ2xlJTIwSW5jLiUyMChJbnRlbCl+QU5HTEUlMjAoSW50ZWwlMkMlMjBJbnRlbChSKSUyMEhEJTIwR3JhcGhpY3MlMjA0MDAwJTIwKDB4MDAwMDAxNjYpJTIwRGlyZWN0M0QxMSUyMHZzXzVfMCUyMHBzXzVfMCUyQyUyMEQzRDExKSUyMiUyQyUyMmFkQmxvY2slMjIlM0EwJTJDJTIyaGFzTGllZExhbmd1YWdlcyUyMiUzQTAlMkMlMjJoYXNMaWVkUmVzb2x1dGlvbiUyMiUzQTAlMkMlMjJoYXNMaWVkT3MlMjIlM0EwJTJDJTIyaGFzTGllZEJyb3dzZXIlMjIlM0EwJTJDJTIydG91Y2hTdXBwb3J0JTIyJTNBJTdCJTIycG9pbnRzJTIyJTNBMCUyQyUyMmV2ZW50JTIyJTNBMCUyQyUyMnN0YXJ0JTIyJTNBMCU3RCUyQyUyMmZvbnRzJTIyJTNBJTdCJTIyY291bnQlMjIlM0EzMyUyQyUyMmhhc2glMjIlM0ElMjJlZGVlZmQzNjAxNjFiNGJmOTQ0YWMwNDVlNDFkMGIyMSUyMiU3RCUyQyUyMmF1ZGlvJTIyJTNBJTIyMTI0LjA0MzQ3NTI3NTE2MDc0JTIyJTJDJTIycmVzb2x1dGlvbiUyMiUzQSU3QiUyMnclMjIlM0ElMjIxNjAwJTIyJTJDJTIyaCUyMiUzQSUyMjkwMCUyMiU3RCUyQyUyMmF2YWlsYWJsZVJlc29sdXRpb24lMjIlM0ElN0IlMjJ3JTIyJTNBJTIyODYwJTIyJTJDJTIyaCUyMiUzQSUyMjE2MDAlMjIlN0QlMkMlMjJ0cyUyMiUzQSU3QiUyMnNlcnZlJTIyJTNBMTcwNDc5MzA5NDg0NCUyQyUyMnJlbmRlciUyMiUzQTE3MDQ3OTMwOTY1MzQlN0QlN0Qmc3BlY0lkPXtzcGVjSWR9JmNhY2hlU3RvcmVkPSZjcnVtYj17Y3J1bWJ9JmFjcnVtYj17YWNydW1ifSZzZXNzaW9uSW5kZXg9e3Nlc3Npb25JbmRleH0mZG9uZT1odHRwcyUzQSUyRiUyRnd3dy5hb2wuY29tJmdvb2dsZUlkVG9rZW49JmF1dGhDb2RlPSZhdHRyU2V0SW5kZXg9MCZzcGVjRGF0YT17c3BlY0RhdGF9Jm11bHRpRG9tYWluPSZ0b3MwPW9hdGhfZnJlZXJlZyU3Q3VzJTdDZW4tVVMmZmlyc3ROYW1lPWFobWVkJmxhc3ROYW1lPU1haG9zJnVzZXJpZC1kb21haW49eWFob28mdXNlcklkPXtuYW1lfSZwYXNzd29yZD1EcmFobWVkMjAwNiMjJCQmbW09MTAmZGQ9MjQmeXl5eT0yMDAwJnNpZ251cD0nCgogICAgICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vbG9naW4uYW9sLmNvbS9hY2NvdW50L21vZHVsZS9jcmVhdGUnLCBwYXJhbXM9cGFyYW1zLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSwgY29va2llcz1jb29raWVzKS50ZXh0CiAgICAgICAgaWYgJ3siZXJyb3JzIjpbXX0nIGluIHJlczoKICAgICAgICAgICAgaGl0cyArPSAxCiAgICAgICAgICAgIHBwcHAoKQogICAgICAgICAgICBpZiAnQCcgbm90IGluIGVtYWlsOgogICAgICAgICAgICAgICAgb2sgPSBlbWFpbCArICdAYW9sLmNvbScKICAgICAgICAgICAgICAgIHVzZXJuYW1lLCBnZyA9IG9rLnNwbGl0KCdAJykKICAgICAgICAgICAgICAgIEluZm9BY2ModXNlcm5hbWUsIGdnKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdXNlcm5hbWUsIGdnID0gZW1haWwuc3BsaXQoJ0AnKQogICAgICAgICAgICAgICAgSW5mb0FjYyh1c2VybmFtZSwgZ2cpCiAgICAgICAgZWxzZTogCiAgICAgICAgICBiYWRlbWFpbCs9MQogICAgICAgICAgcHBwcCgpCiAgICBleGNlcHQ6JycKICAgIAoKZGVmIGNoZWNrKGVtYWlsKToKICAgIGdsb2JhbCBnb29kaWcsIGJhZGluc3RhCiAgICB1YSA9IGdlbmVyYXRlX3VzZXJfYWdlbnQoKQogICAgZGV2ID0gJ2FuZHJvaWQtJwogICAgZGV2aWNlX2lkID0gZGV2ICsgaGFzaGxpYi5tZDUoc3RyKHV1aWQudXVpZDQoKSkuZW5jb2RlKCkpLmhleGRpZ2VzdCgpWzoxNl0KICAgIHV1aSA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICBoZWFkZXJzID0gewogICAgICAgICdVc2VyLUFnZW50JzogdWEsCiAgICAgICAgJ0Nvb2tpZSc6ICdtaWQ9WlZmR3ZnQUJBQUdvUXFhN0FZM21nb1lCVjFuUDsgY3NyZnRva2VuPTl5M041a0xxemlhbFFBN3o5NkFNaXlBS0xNQldwcVZqJywKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICB9CiAgICBkYXRhID0gewogICAgICAgICdzaWduZWRfYm9keSc6ICcwZDA2N2MyZjg2Y2FjMmMxN2Q2NTU2MzFjOWNlYzI0MDIwMTJmYjBhMzI5YmNhZmIzYjFmNGMwYmI1NmIxZjFmLicgKyBqc29uLmR1bXBzKHsKICAgICAgICAgICAgJ19jc3JmdG9rZW4nOiAnOXkzTjVrTHF6aWFsUUE3ejk2QU1peUFLTE1CV3BxVmonLAogICAgICAgICAgICAnYWRpZCc6IHV1aSwKICAgICAgICAgICAgJ2d1aWQnOiB1dWksCiAgICAgICAgICAgICdkZXZpY2VfaWQnOiBkZXZpY2VfaWQsCiAgICAgICAgICAgICdxdWVyeSc6IGVtYWlsCiAgICAgICAgfSksCiAgICAgICAgJ2lnX3NpZ19rZXlfdmVyc2lvbic6ICc0JywKICAgIH0KICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL2FjY291bnRzL3NlbmRfcmVjb3ZlcnlfZmxvd19lbWFpbC8nLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkudGV4dAogICAgaWYgZW1haWwgaW4gcmVzcG9uc2U6CiAgICAgICAgaWYgJ0BnbWFpbC5jb20nIGluIGVtYWlsOgogICAgICAgICAgICBjaGVja19nbWFpbChlbWFpbCkKICAgICAgICBlbGlmICdAYW9sLmNvbScgaW4gZW1haWwgb3IgJ0BhKiouY29tJyBpbiBlbWFpbDoKICAgICAgICAgICAgY2hlY2tfYW9sKGVtYWlsKQogICAgICAgIGdvb2RpZyArPSAxCiAgICAgICAgcHBwcCgpCiAgICBlbHNlOgogICAgICAgIGJhZGluc3RhICs9IDEKICAgICAgICBwcHBwKCkKCgoKZGVmIHJlc3QodXNlcik6CiAgdHJ5OgogICAgaGVhZGVycyA9IHsKICAgICdYLVBpZ2Vvbi1TZXNzaW9uLUlkJzogJzUwY2M2ODYxLTcwMzYtNDNiNC04MDJlLWZiNDI4Mjc5OWM2MCcsCiAgICAnWC1QaWdlb24tUmF3Y2xpZW50dGltZSc6ICcxNzAwMjUxNTc0Ljk4MicsCiAgICAnWC1JRy1Db25uZWN0aW9uLVNwZWVkJzogJy0xa2JwcycsCiAgICAnWC1JRy1CYW5kd2lkdGgtU3BlZWQtS0JQUyc6ICctMS4wMDAnLAogICAgJ1gtSUctQmFuZHdpZHRoLVRvdGFsQnl0ZXMtQic6ICcwJywKICAgICdYLUlHLUJhbmR3aWR0aC1Ub3RhbFRpbWUtTVMnOiAnMCcsCiAgICAnWC1CbG9rcy1WZXJzaW9uLUlkJzogJ2M4MGM1ZmIzMGRmYWU5ZTI3M2U0MDA5ZjAzYjE4MjgwYmIzNDNiMDg2MmQ2NjNmMzFhM2M2M2YxM2E5ZjMxYzAnLAogICAgJ1gtSUctQ29ubmVjdGlvbi1UeXBlJzogJ1dJRkknLAogICAgJ1gtSUctQ2FwYWJpbGl0aWVzJzogJzNiclR2dz09JywKICAgICdYLUlHLUFwcC1JRCc6ICc1NjcwNjczNDMzNTI0MjcnLAogICAgJ1VzZXItQWdlbnQnOiAnSW5zdGFncmFtIDEwMC4wLjAuMTcuMTI5IEFuZHJvaWQgKDI5LzEwOyA0MjBkcGk7IDEwODB4MjEyOTsgc2Ftc3VuZzsgU00tTTIwNUY7IG0yMGx0ZTsgZXh5bm9zNzkwNDsgZW5fR0I7IDE2MTQ3ODY2NCknLAogICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1HQiwgZW4tVVMnLAogICAgICdDb29raWUnOiAnbWlkPVpWZkd2Z0FCQUFHb1FxYTdBWTNtZ29ZQlYxblA7IGNzcmZ0b2tlbj05eTNONWtMcXppYWxRQTd6OTZBTWl5QUtMTUJXcHFWaicsCiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcsCiAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLAogICAgJ0hvc3QnOiAnaS5pbnN0YWdyYW0uY29tJywKICAgICdYLUZCLUhUVFAtRW5naW5lJzogJ0xpZ2VyJywKICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgJ0NvbnRlbnQtTGVuZ3RoJzogJzM1NicsCn0KICAgIGRhdGEgPSB7CiAgICAnc2lnbmVkX2JvZHknOiAnMGQwNjdjMmY4NmNhYzJjMTdkNjU1NjMxYzljZWMyNDAyMDEyZmIwYTMyOWJjYWZiM2IxZjRjMGJiNTZiMWYxZi57Il9jc3JmdG9rZW4iOiI5eTNONWtMcXppYWxRQTd6OTZBTWl5QUtMTUJXcHFWaiIsImFkaWQiOiIwZGZhZjgyMC0yNzQ4LTQ2MzQtOTM2NS1jM2Q4YzgwMTEyNTYiLCJndWlkIjoiMWY3ODQ0MzEtMjY2My00ZGI5LWI2MjQtODZiZDljZTFkMDg0IiwiZGV2aWNlX2lkIjoiYW5kcm9pZC1iOTNkZGIzN2U5ODM0ODFjIiwicXVlcnkiOiInK3VzZXIrJyJ9JywKICAgICdpZ19zaWdfa2V5X3ZlcnNpb24nOiAnNCcsCiAgfQogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KCdodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvYWNjb3VudHMvc2VuZF9yZWNvdmVyeV9mbG93X2VtYWlsLycsaGVhZGVycz1oZWFkZXJzLGRhdGE9ZGF0YSwpLmpzb24oKQogICAgcj1yZXNwb25zZVsnZW1haWwnXQogIGV4Y2VwdDoKICAgIHI9J25vIFJFU1QgIScKICByZXR1cm4gcgoKZGVmIGRhdGUoaHkpOgogICAgdHJ5OgogICAgICAgIHJhbmdlcyA9IFsKICAgICAgICAgICAgKDEyNzkwMDAsIDIwMTApLAogICAgICAgICAgICAoMTc3NTAwMDAsIDIwMTEpLAogICAgICAgICAgICAoMjc5NzYwMDAwLCAyMDEyKSwKICAgICAgICAgICAgKDkwMDk5MDAwMCwgMjAxMyksCiAgICAgICAgICAgICgxNjI5MDEwMDAwLCAyMDE0KSwKICAgICAgICAgICAgKDI1MDAwMDAwMDAsIDIwMTUpLAogICAgICAgICAgICAoMzcxMzY2ODc4NiwgMjAxNiksCiAgICAgICAgICAgICg1Njk5Nzg1MjE3LCAyMDE3KSwKICAgICAgICAgICAgKDg1OTc5MzkyNDUsIDIwMTgpLAogICAgICAgICAgICAoMjEyNTQwMjk4MzQsIDIwMTkpLAogICAgICAgICAgICAoNDM0NjQ0NzUzOTUsIDIwMjApLAogICAgICAgICAgICAoNTAyODkyOTc2NDcsIDIwMjEpLAogICAgICAgICAgICAoNTc0NjQ3MDcwODIsIDIwMjIpLAogICAgICAgICAgICAoNjMzMTM0MjY5MzgsIDIwMjMpCiAgICAgICAgICAgIAogICAgICAgIF0KICAgICAgICAKICAgICAgICBmb3IgdXBwZXIsIHllYXIgaW4gcmFuZ2VzOgogICAgICAgICAgICBpZiBoeSA8PSB1cHBlcjoKICAgICAgICAgICAgICAgIHJldHVybiB5ZWFyCiAgICAgICAgcmV0dXJuIDIwMjMKICAgIAogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCgogICAgCmRlZiBJbmZvQWNjKHVzZXJuYW1lLCBnZyk6CiAgICBnbG9iYWwgdG90YWwKCiAgICBycj0gaW5mb2luc3RhLmdldCh1c2VybmFtZSx7fSkKCiAgICBJZCA9IHJyLmdldCgncGsnLCBOb25lKQogICAgZnVsbF9uYW1lID0gcnIuZ2V0KCdmdWxsX25hbWUnLCBOb25lKQogICAgZm93cyA9IHJyLmdldCgnZm9sbG93ZXJfY291bnQnLCBOb25lKQogICAgZm93ZyA9IHJyLmdldCgnZm9sbG93aW5nX2NvdW50JywgTm9uZSkKICAgIHBwID0gcnIuZ2V0KCdtZWRpYV9jb3VudCcsIE5vbmUpCiAgICBpc1ByYWlzZSA9IHJyLmdldCgnaXNfcHJpdmF0ZScsIE5vbmUpCiAgICBiaW8gPSByci5nZXQoJ2Jpb2dyYXBoeScsIE5vbmUpCiAgICBpc192ZXJpZmllZCA9IHJyLmdldCgnaXNfdmVyaWZpZWQnLCBOb25lKQogICAgYml6eiA9IHJyLmdldCgnaXNfYnVzaW5lc3MnLCBOb25lKQogICAgdHJ5OgogICAgICAgIGlmIChmb3dzIGFuZCBwcCk6CiAgICAgICAgICAgIGlmIChpbnQoZm93cykgPj0gMTAgYW5kIGludChwcCkgPj0gMik6CiAgICAgICAgICAgICAgICBtZXRhID0gVHJ1ZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbWV0YSA9IEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWV0YSA9IEZhbHNlCiAgICBleGNlcHQ6CiAgICAgICAgbWV0YT1GYWxzZQoKCiAgICB0b3RhbCArPSAxCiAgICBzcyA9IGYnJycK4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIAogSGl0IC0ge3RvdGFsfQogSXMgTWV0YSBFbmFibGVkIC0ge21ldGF9CiBJcyBCdWlzbmVzcyAtIHtiaXp6fQogSXMgVmVyaWZpZWQgLSB7aXNfdmVyaWZpZWR9CiBGb2xsb3dlciAtIHtmb3dzfQogRm9sbG93aW5nIC0ge2Zvd2d9CiBQb3N0IC0ge3BwfQogQmlvIC0ge2Jpb30KIFByaXZhdGUgLSB7aXNQcmFpc2V9CiBGdWxsIE5hbWUgLSB7ZnVsbF9uYW1lfQogSUQgLSB7SWR9CiBEb21haW4gLSB7Z2d9CiBVc2VybmFtZSAtIEB7dXNlcm5hbWV9CiBFLU1haWwgLSB7dXNlcm5hbWV9QHtnZ30KIFJlc3QgLSB7cmVzdCh1c2VybmFtZSl9CiBVcmwgLSBodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3t1c2VybmFtZX0K4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIApCWSBTUE9LWUNBUAonJycKCiAgICB3aXRoIG9wZW4oJ1NURUlOLnR4dCcsICdhJykgYXMgZmY6CiAgICAgICAgZmYud3JpdGUoZid7c3N9XG4nKQoKICAgIHRyeToKICAgICAgICB0cnk6cmVxdWVzdHMuZ2V0KGYiaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHt0b2tlbn0vc2VuZE1lc3NhZ2U/Y2hhdF9pZD17SUR9JnRleHQ9e3NzfSIpCiAgICAgICAgZXhjZXB0OnBhc3MKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCiAgICAgICAgCmRlZiBnZygpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICBkYXRhID0gewogICAgICAgICAgICAibHNkIjogJycuam9pbihyYW5kb20uY2hvaWNlcyhzdHJpbmcuYXNjaWlfbGV0dGVycyArIHN0cmluZy5kaWdpdHMsIGs9MzIpKSwKICAgICAgICAgICAgInZhcmlhYmxlcyI6IGpzb24uZHVtcHMoeyJpZCI6IGludChyYW5kb20ucmFuZHJhbmdlKGJiaywgaWQpKSwgInJlbmRlcl9zdXJmYWNlIjogIlBST0ZJTEUifSksCiAgICAgICAgICAgICJkb2NfaWQiOiAiMjU2MTgyNjE4NDExNTA4NDAiCiAgICAgICAgfQoKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoCiAgICAgICAgICAgICJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FwaS9ncmFwaHFsIiwKICAgICAgICAgICAgaGVhZGVycz17IlgtRkItTFNEIjogZGF0YVsibHNkIl19LAogICAgICAgICAgICBkYXRhPWRhdGEKICAgICAgICApCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1c2VybmFtZSA9IHJlc3BvbnNlLmpzb24oKS5nZXQoJ2RhdGEnLCB7fSkuZ2V0KCd1c2VyJywge30pLmdldCgndXNlcm5hbWUnKQogICAgICAgICAgICBpbmZvaW5zdGFbdXNlcm5hbWVdID0gcmVzcG9uc2UuanNvbigpLmdldCgnZGF0YScsIHt9KS5nZXQoJ3VzZXInLCB7fSkKICAgICAgICAgICAgZW1haWxzID0gWyB1c2VybmFtZSArICdAZ21haWwuY29tJywgdXNlcm5hbWUgKyAnQGFvbC5jb20nXQogICAgICAgICAgICBmb3IgZW1haWwgaW4gZW1haWxzOgogICAgICAgICAgICAgICAgY2hlY2soZW1haWwpCiAgICAgICAgZXhjZXB0OicnCmZvciBfIGluIHJhbmdlKDIwMCk6CiAgICBUaHJlYWQodGFyZ2V0PWdnKS5zdGFydCgp").decode())
